<% provide(:title, @feed.title) %>

<div id="fs-top-sep"></div>

<div id="feeds-show-container" class="row">
    <%= render 'aside' %>
    <div class="box medium-10 medium-centered large-9 large-uncentered columns">
	<% if @feed.fetching %>
	    <p style="margin-top: 1.25rem"><%= icon 'refresh', class: 'fa-spin', style: 'margin-right: 5px' %> Please wait...</p>
            <script>
             window.setTimeout(function () {
                 Turbolinks.enableProgressBar(false);
                 Turbolinks.visit();
             }, 2000 );
            </script>
	<% else %>
	    <% if @feed.entries.any? %>
		<p id="whats-new" class="show-for-large-up section-heading">What's new</p>
		<%= render @entries %>
	    <% else %>
		<p style="margin-top: 1.25rem">There are no articles for this feed.</p>
	    <% end %>
	<% end %>
    </div>
</div>

<div id="fs-bottom-sep"></div>

<%= link_to "Next feed", @next_feed, class: "show-for-small-only button expand", id: "next" %>

<script>
 var logo = document.getElementById("logo-img");
 if (logo) {
     logo.onerror = function() {
	 logo.style.display = "none";
     };
     logo.onload = function() {
	 if (logo.width < 20) {
	     logo.style.display = "none";
	 }
     }
 }
</script>
